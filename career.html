<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Careers at Uzair B2B</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
  
  <style>
    body {
        font-family: 'Inter', sans-serif;
        background-color: #030712;
        color: white;
        min-height: 100vh;
    }
    .tts-button {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
    }
  </style>
</head>
<body class="bg-gray-950 text-white font-sans antialiased">

  <div id="app"></div>

  <script>
    const { ref, createApp, onMounted, computed } = Vue;

    // Helper functions for TTS audio processing
    // Converts a base64 string to an ArrayBuffer
    const base64ToArrayBuffer = (base64) => {
      const binaryString = window.atob(base64);
      const len = binaryString.length;
      const bytes = new Uint8Array(len);
      for (let i = 0; i < len; i++) {
        bytes[i] = binaryString.charCodeAt(i);
      }
      return bytes.buffer;
    };

    // Converts PCM data to a WAV Blob for playback
    const pcmToWav = (pcmData, sampleRate) => {
      const dataLength = pcmData.length * 2;
      const buffer = new ArrayBuffer(44 + dataLength);
      const view = new DataView(buffer);

      // RIFF identifier
      writeString(view, 0, 'RIFF');
      // file length
      view.setUint32(4, 36 + dataLength, true);
      // RIFF type
      writeString(view, 8, 'WAVE');
      // format chunk identifier
      writeString(view, 12, 'fmt ');
      // format chunk length
      view.setUint32(16, 16, true);
      // sample format (1 = PCM)
      view.setUint16(20, 1, true);
      // channel count
      view.setUint16(22, 1, true);
      // sample rate
      view.setUint32(24, sampleRate, true);
      // byte rate (sample rate * block align)
      view.setUint32(28, sampleRate * 2, true);
      // block align (channels * bytes per sample)
      view.setUint16(32, 2, true);
      // bits per sample
      view.setUint16(34, 16, true);
      // data chunk identifier
      writeString(view, 36, 'data');
      // data chunk length
      view.setUint32(40, dataLength, true);

      // Write PCM data
      let offset = 44;
      for (let i = 0; i < pcmData.length; i++, offset += 2) {
        view.setInt16(offset, pcmData[i], true);
      }

      return new Blob([view], { type: 'audio/wav' });
    };

    // Helper function to write a string to a DataView
    const writeString = (view, offset, string) => {
      for (let i = 0; i < string.length; i++) {
        view.setUint8(offset + i, string.charCodeAt(i));
      }
    };
    
    // Main Vue.js application
    const app = createApp({
      setup() {
        const lang = ref('en');
        const isLoading = ref(false);
        const audio = ref(null);
        const isPlaying = ref(false);
        let audioContext = null;
        let audioSource = null;

        const content = {
          en: {
            title: "Career at Uzair B2B",
            subtitle: "At Uzair B2B, we believe in skills over qualifications. We don’t ask for your degrees, marks, or background—what truly matters to us is your talent, dedication, and ability to deliver results.",
            points: [
              "Payments & bonuses are project-based, ensuring fair earnings for your efforts and performance.",
              "We welcome candidates from any stream—Arts, Commerce, or Science—as long as you have the right skills."
            ],
            lookingFor: "We are currently looking for professionals with expertise in:",
            roles: [
              "Front-End Web Developer with UI/UX Design Skills",
              "Back-End Developer (comfortable working with front-end, SQL, PHP, or Node.js)",
              "Digital Ad Expert & Campaign Runner",
              "AutoCAD Expert",
              "Telecaller with Marketing Skills"
            ],
            callToAction: "If you are passionate about your craft and eager to grow with real projects, Uzair B2B is the place for you.",
            finalMessage: "Join us—not for a job, but for opportunities that reward skills and results.",
            applyButton: "Apply Now",
            homeLink: "Home",
            playButton: "Listen to Page",
            stopButton: "Stop Audio",
            loading: "Loading..."
          },
          hi: {
            title: "उज़ैर बी2बी में करियर",
            subtitle: "उज़ैर बी2बी में, हम योग्यता से अधिक कौशल में विश्वास करते हैं। हम आपकी डिग्री, अंक, या पृष्ठभूमि नहीं पूछते—हमारे लिए जो सबसे ज़्यादा मायने रखता है, वह है आपकी प्रतिभा, समर्पण और परिणाम देने की क्षमता।",
            points: [
              "भुगतान और बोनस परियोजना-आधारित होते हैं, जो आपके प्रयासों और प्रदर्शन के लिए उचित कमाई सुनिश्चित करते हैं।",
              "हम किसी भी स्ट्रीम—कला, वाणिज्य या विज्ञान—के उम्मीदवारों का स्वागत करते हैं, जब तक कि आपके पास सही कौशल हो।"
            ],
            lookingFor: "वर्तमान में हम इन क्षेत्रों में विशेषज्ञता वाले पेशेवरों की तलाश में हैं:",
            roles: [
              "UI/UX डिज़ाइन कौशल के साथ फ्रंट-एंड वेब डेवलपर",
              "बैक-एंड डेवलपर (फ्रंट-एंड, एसक्यूएल, पीएचपी, या नोड.जेएस के साथ काम करने में सहज)",
              "डिजिटल विज्ञापन विशेषज्ञ और अभियान प्रबंधक",
              "ऑटोकैड विशेषज्ञ",
              "मार्केटिंग कौशल के साथ टेलीकॉलर"
            ],
            callToAction: "यदि आप अपने काम के प्रति भावुक हैं और वास्तविक परियोजनाओं के साथ आगे बढ़ना चाहते हैं, तो उज़ैर बी2बी आपके लिए सही जगह है।",
            finalMessage: "हमारे साथ जुड़ें—नौकरी के लिए नहीं, बल्कि उन अवसरों के लिए जो कौशल और परिणामों को पुरस्कृत करते हैं।",
            applyButton: "अभी आवेदन करें",
            homeLink: "होम",
            playButton: "पेज सुनें",
            stopButton: "ऑडियो रोकें",
            loading: "लोड हो रहा है..."
          }
        };

        const setLang = (newLang) => {
          lang.value = newLang;
        };

        const t = (key) => {
          return content[lang.value][key];
        };

        const playAudio = async () => {
          if (isPlaying.value) {
            stopAudio();
            return;
          }

          if (audio.value) {
            audio.value.play();
            isPlaying.value = true;
            return;
          }

          isLoading.value = true;
          const fullText = Object.values(content[lang.value]).filter(item => Array.isArray(item) ? item.length > 0 : true).flat().join(' ');
          const payload = {
            contents: [{
              parts: [{ text: fullText }]
            }],
            generationConfig: {
              responseModalities: ["AUDIO"],
              speechConfig: {
                voiceConfig: {
                  prebuiltVoiceConfig: { voiceName: "Iapetus" }
                }
              }
            },
            model: "gemini-2.5-flash-preview-tts"
          };
          const apiKey = "";
          const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-tts:generateContent?key=${apiKey}`;

          try {
            const response = await fetch(apiUrl, {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify(payload)
            });
            const result = await response.json();
            const part = result?.candidates?.[0]?.content?.parts?.[0];

            if (part && part.inlineData && part.inlineData.data) {
              const audioData = part.inlineData.data;
              const mimeType = part.inlineData.mimeType;
              const sampleRate = parseInt(mimeType.match(/rate=(\d+)/)[1], 10);
              const pcmData = base64ToArrayBuffer(audioData);
              const pcm16 = new Int16Array(pcmData);
              const wavBlob = pcmToWav(pcm16, sampleRate);
              const audioUrl = URL.createObjectURL(wavBlob);
              
              audio.value = new Audio(audioUrl);
              audio.value.play();
              isPlaying.value = true;
              audio.value.onended = () => {
                isPlaying.value = false;
                audio.value = null;
              };
            } else {
              console.error("Audio data not found in response.");
            }
          } catch (error) {
            console.error("Error generating audio:", error);
          } finally {
            isLoading.value = false;
          }
        };

        const stopAudio = () => {
          if (audio.value) {
            audio.value.pause();
            audio.value.currentTime = 0;
            isPlaying.value = false;
          }
        };

        onMounted(() => {
          // Additional responsiveness check
        });

        return {
          lang,
          setLang,
          t,
          playAudio,
          stopAudio,
          isLoading,
          isPlaying,
          
        };
      },
      template: `
        <div class="bg-gray-950 text-white font-sans antialiased">
          <!-- Navigation Bar -->
          <header class="p-6 fixed top-0 w-full z-10 bg-gray-950/70 backdrop-blur-sm">
            <nav class="container mx-auto flex justify-between items-center">
              <div class="text-2xl font-bold">UZAIR B2B</div>
              <div class="flex items-center space-x-4">
                <a href="#" class="px-4 py-2 rounded-full text-lg font-semibold text-gray-200 hover:text-white transition-colors duration-300">
                  {{ t('homeLink') }}
                </a>
                <!-- Language Switcher -->
                <div class="flex items-center space-x-2">
                  <button @click="setLang('en')" :class="{'bg-violet-600': lang === 'en', 'bg-gray-700': lang !== 'en'}" class="px-3 py-1 rounded-full text-sm font-semibold transition-colors duration-300">
                    EN
                  </button>
                  <button @click="setLang('hi')" :class="{'bg-violet-600': lang === 'hi', 'bg-gray-700': lang !== 'hi'}" class="px-3 py-1 rounded-full text-sm font-semibold transition-colors duration-300">
                    HI
                  </button>
                </div>
              </div>
            </nav>
          </header>
          
          <!-- Careers Section -->
          <section class="min-h-screen flex items-center justify-center text-center p-8 relative pt-24">
            <div class="max-w-4xl z-10 space-y-8 px-6">
              <h1 class="text-5xl md:text-6xl font-extrabold leading-tight text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-indigo-500">
                {{ t('title') }}
              </h1>
              <p class="text-xl md:text-2xl text-gray-400 max-w-2xl mx-auto">
                {{ t('subtitle') }}
              </p>
          
              <div class="bg-gray-800 rounded-xl p-8 shadow-lg space-y-6 text-left relative">
                <div class="absolute top-4 right-4">
                    <button @click="playAudio" class="flex items-center justify-center w-12 h-12 rounded-full bg-violet-600 text-white transition-colors duration-300 hover:bg-violet-700 disabled:bg-gray-500 disabled:cursor-not-allowed" :disabled="isLoading">
                        <span v-if="isLoading" class="animate-spin h-5 w-5 border-2 border-white border-t-transparent rounded-full"></span>
                        <span v-else>
                          <svg v-if="isPlaying" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zM9.5 8.5a1 1 0 011-1h1a1 1 0 011 1v3a1 1 0 01-1 1h-1a1 1 0 01-1-1v-3z" clip-rule="evenodd" />
                          </svg>
                          <svg v-else xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.147A1 1 0 008 8v4a1 1 0 001.555.853l3.555-2a1 1 0 000-1.706l-3.555-2z" clip-rule="evenodd" />
                          </svg>
                        </span>
                    </button>
                </div>
                <ul class="space-y-4">
                  <li class="flex items-start space-x-3">
                    <span class="text-teal-400 mt-1">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                      </svg>
                    </span>
                    <p class="text-gray-300">
                      {{ t('points')[0] }}
                    </p>
                  </li>
                  <li class="flex items-start space-x-3">
                    <span class="text-teal-400 mt-1">
                      <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                        <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" />
                      </svg>
                    </span>
                    <p class="text-gray-300">
                      {{ t('points')[1] }}
                    </p>
                  </li>
                </ul>
          
                <p class="text-gray-200 font-semibold text-lg mt-6">
                  {{ t('lookingFor') }}
                </p>
                <ul class="space-y-2 text-gray-400 list-disc list-inside">
                  <li v-for="role in t('roles')">{{ role }}</li>
                </ul>
          
                <p class="text-gray-300 pt-6">
                  {{ t('callToAction') }}
                </p>
          
                <a href="https://forms.gle/qod6YvtJqyNkBh9g7" target="_blank" class="inline-block px-8 py-4 rounded-full text-lg font-semibold bg-violet-600 text-white shadow-lg hover:bg-violet-700 transition-colors duration-300 transform hover:-translate-y-1">
                  {{ t('applyButton') }}
                  <span class="ml-2">🚀</span>
                </a>
              </div>
            </div>
          </section>
          
          <!-- Footer -->
          <footer class="py-8 bg-gray-950 text-center text-gray-500 text-sm">
            <div class="container mx-auto px-6">
              <p>&copy; 2024 Uzair B2B. All Rights Reserved.</p>
            </div>
          </footer>
        </div>
      `,
    });
    app.mount('#app');
  </script>
</body>
</html>
